<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategy Planning for the Fall 2024 Election</title>
    <!-- You can add additional styles or link to external stylesheets here -->
    <link rel="stylesheet" type="text/css" href="./styles/main.css">
</head>
<body>
    <header>
        <h1>Strategy Planning for the Fall 2024 Election</h1>
    </header>
    <main>
        <div class="content">
            <h2>The "Effort Remaining" Metric</h2>
            <h4>Computing the "Effort Remaining":</h4>
            <pre><code>
                def ComputeEffortRequired(df, win_factor = 1.10, coefficient_2024 = .84):
                ### fill in missing values in these columns 
                ### with the mean of the other values in that column
                df.fillna({'Biden20': df['Biden20'].mean(), 
                           'Evers18': df['Evers18'].mean(), 
                           'Evers22': df['Evers22'].mean(),
                           'Clinton16': df['Clinton16'].mean(),
                           'Trump20': df['Trump20'].mean(),
                           'ModeledIDs': 0,  # fill im missing values with 0
                           'NewIDs': 0}, inplace=True)
                
                supporter_goal = 0
                g1 = 0.0
                
                for row in df.itertuples():
                    # supporter goal is 110% of Biden's 2020 vote
                    # incremented by half the loss, if any, from (Evers22 - Evers18)/Evers18
                    if pd.isnull(row.SupporterGoal) or row.SupporterGoal == 0:
                        try:
                            g1 = (row.Evers22 - row.Evers18) / (2.0 * row.Evers18)
                        except ZeroDivisionError:
                            g1 = win_factor
            
                        if g1 >= 0.0: g1 = win_factor
                        else: g1 = abs(g1) + win_factor
                    
                        supporter_goal = row.Biden20 * g1
                        df.at[row.Index,'SupporterGoal'] = supporter_goal
                        
                    [....]
                    
                    #Effort remaining is the support goal minus the sum of ModeledIDs and NewIDs
                    #"Effort Remaining" is renamed to "Voter Gap"
                    if pd.isnull(row.EffortRemaining) or row.EffortRemaining == 0:
                        df.at[row.Index, 'EffortRemaining'] = supporter_goal - (row.ModeledIDs + row.NewIDs)
                            
                return df
            
            </code></pre>    
        </div>
        <div class = "content">
            <h2>Current Version Changes:</h2>
            <h4>Version of 9/15/24</h4>
            <p><ul>
                <li>"Supporter Goal" is 110% of Biden's 2020 vote plus half the loss, if any, from (Evers22 - Evers18)/Evers18. </li>
                <li>"Effort Remaining" is "SupporterGoal" minus the sum of "ModeledIDs" and "NewIDs".</li>
                <li>"Effort Remaining" is renamed to "Voter Gap".</li>
                <li>Color bars on the map show the voter gap, clamped in the range [0.0, 900].</li>
                <div class="image-container2"  justify-content="left" height = "500px" width = "600px" >
                    <img src="./static_image/Billboard_rev-4.png"> 
                </div>  
            </ul></p>
            <h4>Version of 9/11/24</h4>
            <p><ul>
                <li>"Effort Remaining" metric is same as previous version, pending your suggested changes.</li>
            </ul></p>
            <h4>Version of 8/6/24</h4>
            <p><ul>
                <li>"Effort Remaining" metric is same as previous version.</li>
                <li>"Expected Minimum" is replaced by "Projected", and is now computed using an average of the 2 most recent presidential and offyear elections, clamed in the range [1.0, 1.1]</li>
                <div class="image-container2"  justify-content="left" height = "500px" width = "600px" >
                    <img src="./static_image/Billboard_rev-3.png"> 
                </div>  
                <li>Votes for Trump are added to billoboard.</li>      
            </ul></p>

            <h4>Version of 8/3/24</h4>
            <p><ul>
                <li>Updated the "Effort Remaining" metric per our conversation of 8/2/24.</li>
                <li>Billboard is updated to display new "Effort remaining to goal" information.
                    <div class="image-container2"  justify-content="left" height = "500px" width = "600px" >
                        <img src="./static_image/Billboard_rev-2.png"> 
                    </div>           
                </li>
                <li>Colorbars for each turf are capped at "Effort remaining to goal" = 900 voters for all turfs. </li>
            </ul></p>
        </div>
        <div class = 'content'>
            <h2>Milwaukee and Suburban Wards by Turf and Effort Remaining</h2>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf A Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "900px" width = "800px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf B Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "700px" width = "1000px" class="embedded-page"></iframe>   
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf C Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "700px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf D Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "700px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf E Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Racine County Turf All Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Brown County Turf All Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>
            
            <!-- Add more subpages as needed -->

            <div class="iframe-container">
                <iframe src="./html_image/Kenosha County Turf All Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>
            
            <div class="iframe-container">
                <iframe src="./html_image/Sheboygan County Turf All Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Waukesha County Turf All Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Outagamie County Turf AP Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Winnebago County Turf O Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

        </div>
    </main>
    <footer>

        <p>Copyright Alan Nichols&copy; 2023</p>
    </footer>
</body>
</html>
