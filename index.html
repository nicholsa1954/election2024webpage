<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategy Planning for the Fall 2024 Election</title>
    <!-- You can add additional styles or link to external stylesheets here -->
    <link rel="stylesheet" type="text/css" href="./styles/main.css">
</head>
<body>
    <header>
        <h1>Strategy Planning for the Fall 2024 Election</h1>
    </header>
    <main>
        <div class="content">
            <h2>The "Effort Remaining" Metric</h2>
            <h4>Computing the "Effort Remaining":</h4>
            <pre><code>
                def ComputeEffortRequired(df, win_factor = 1.10, coefficient_2024 = .84):
                ### fill in missing values in these columns 
                ### with the mean of the other values in that column
                df.fillna({'Biden20': df['Biden20'].mean(), 
                           'Evers18': df['Evers18'].mean(), 
                           'Evers22': df['Evers22'].mean(),
                           'Clinton16': df['Clinton16'].mean(),
                           'Trump20': df['Trump20'].mean(),
                           'ModeledIDs': 0,  # fill im missing values with 0
                           'NewIDs': 0}, inplace=True)
                
                supporter_goal = 0
                growth_factor = 0.0
                g1 = 0.0
                g2 = 0.0
                
                for row in df.itertuples():
                    # supporter goal is 110% of Biden's 2020 vote
                    if pd.isnull(row.SupporterGoal) or row.SupporterGoal == 0:
                        try:
                            g1 = row.Biden20 * (row.Evers22 / row.Evers18)
                        except ZeroDivisionError:
                            g1 = row.Biden20 * 1.0
                    
                        g2 = row.Biden20 * win_factor
                        supporter_goal = int(max(g1, g2))
                        df.at[row.Index,'SupporterGoal'] = supporter_goal
                        
                    # projected growth is the average of presidential-year growth and offyear growth
                    # we recompute the value based on suggestions from Paul8/5/24:
                    # project based on the average of the presidential and offyear growth rates
                    # clamp in range [1.0, 1.1] * Biden's 2020 vote
                    try:
                        presidential_growth_factor = row.Biden20 / row.Clinton16
                    except ZeroDivisionError:
                        presidential_growth_factor = 1  
                    try:  
                        offyear_growth_factor = row.Evers22 / row.Evers18
                    except ZeroDivisionError:
                        offyear_growth_factor = 1
                        
                    # growth factor will not be less than 1.0
                    growth_factor = max(1.0, (presidential_growth_factor + offyear_growth_factor) / 2.0)
                    
                    #growth factor will not be more than 1.1
                    growth_factor = min(win_factor,  growth_factor)
                    df.at[row.Index,'Projected'] = int(row.Biden20 * growth_factor)
                    
                    #effort remaining is the support goal minus the sum of ModeledIDs and NewIDs
                    if pd.isnull(row.EffortRemaining) or row.EffortRemaining == 0:
                        df.at[row.Index, 'EffortRemaining'] = supporter_goal - (row.ModeledIDs + row.NewIDs)
                            
                return df
            
            </code></pre>    
        </div>
        <div class = "content">
            <h2>Current Version Changes:</h2>
            <h4>Version of 8/6/24</h4>
            <p><ul>
                <li>"Effort Remaining" metric is same as previous version.</li>
                <li>"Expected Minimum" is replaced by "Projected", and is now computed using an average of the 2 most recent presidential and offyear elections, clamed in the range [1.0, 1.1]</li>
                <div class="image-container2"  justify-content="left" height = "500px" width = "600px" >
                    <img src="./static_image/Billboard_rev-3.png"> 
                </div>  
                <li>Votes for Trump are added to billoboard.</li>      
            </ul></p>

            <h4>Version of 8/3/24</h4>
            <p><ul>
                <li>Updated the "Effort Remaining" metric per our conversation of 8/2/24.</li>
                <li>Billboard is updated to display new "Effort remaining to goal" information.
                    <div class="image-container2"  justify-content="left" height = "500px" width = "600px" >
                        <img src="./static_image/Billboard_rev-2.png"> 
                    </div>           
                </li>
                <li>Colorbars for each turf are capped at "Effort remaining to goal" = 900 voters for all turfs. </li>
            </ul></p>
            <h4>Version of 7/30/24</h4>
            <p><ul>
                <li>"Effort Remaining" metric is updated per our conversation of 7/29/24 to reflect expectations for Kamala Harris.</li>
                <li>Billboard is updated to display new "Effort Remaining" information.

                    <div class="image-container2"  justify-content="left" height = "500px" width = "600px" >
                        <img src="./static_image/Billboard.png"> 
                    </div>           

                </li>
                <li>Colorbars for each turf use county-wide max and min values for effort remaining, to allow comparisons between turfs. </li>
                <li>Images for turfs in Brown and Racine Counties are added.</li>
                <li>Static images showing priority 1 and 2 wards per turf are added.</li>
            </ul></p>
 
 
        </div>
        <div class = 'content'>
            <h2>Milwaukee and Suburban Wards by Turf and Effort Remaining</h2>
            "html_image\Milwaukee  County Turf C Effort Remaining by Ward.html"

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf A Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "900px" width = "800px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf B Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "700px" width = "1000px" class="embedded-page"></iframe>   
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf C Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "700px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf D Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "700px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Milwaukee County Turf E Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Racine County Turf All Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>

            <div class="iframe-container">
                <iframe src="./html_image/Brown County Turf All Effort Remaining by Ward.html" frameborder="0" scrolling = "no" height = "1100px" width = "1000px" class="embedded-page"></iframe>
            </div>
        </div>
    </main>
    <footer>

        <p>Copyright Alan Nichols&copy; 2023</p>
    </footer>
</body>
</html>
